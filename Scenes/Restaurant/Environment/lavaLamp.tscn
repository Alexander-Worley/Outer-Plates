[gd_scene load_steps=9 format=3 uid="uid://cuek2wfflpv5k"]

[ext_resource type="Texture2D" uid="uid://dsb8wh7ixg1cd" path="res://Assets/Environment/Ambiance/lava-lamp-spritesheet.png" id="1_6avh4"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ef7lx"]
size = Vector2(16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_qdrtj"]
atlas = ExtResource("1_6avh4")
region = Rect2(0, 0, 96, 96)

[sub_resource type="AtlasTexture" id="AtlasTexture_tm1bt"]
atlas = ExtResource("1_6avh4")
region = Rect2(96, 0, 96, 96)

[sub_resource type="AtlasTexture" id="AtlasTexture_uu6la"]
atlas = ExtResource("1_6avh4")
region = Rect2(192, 0, 96, 96)

[sub_resource type="AtlasTexture" id="AtlasTexture_e72xu"]
atlas = ExtResource("1_6avh4")
region = Rect2(288, 0, 96, 96)

[sub_resource type="SpriteFrames" id="SpriteFrames_5lsgv"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_qdrtj")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_tm1bt")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_uu6la")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_e72xu")
}],
"loop": true,
"name": &"LavaLamp",
"speed": 10.0
}]

[sub_resource type="GDScript" id="GDScript_to42l"]
script/source = "extends AnimatedSprite2D

const NUM_FRAMES: int = 4
@onready var animationTimer = $AnimationTimer

func _ready():
	animationTimer.start()
	animationTimer.connect(\"timeout\", Callable(self, \"_on_animationTimer_timeout\"))

func _on_animationTimer_timeout():
	frame = randi() % NUM_FRAMES
"

[node name="LavaLamp" type="StaticBody2D"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
shape = SubResource("RectangleShape2D_ef7lx")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
position = Vector2(0, -40)
sprite_frames = SubResource("SpriteFrames_5lsgv")
animation = &"LavaLamp"
frame_progress = 0.369461
script = SubResource("GDScript_to42l")

[node name="AnimationTimer" type="Timer" parent="AnimatedSprite2D"]
wait_time = 0.25
